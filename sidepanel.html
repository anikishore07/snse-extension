<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>SNSE - Shopping Helper</title>
  <link rel="stylesheet" href="sidepanel.css">
</head>
<body>
  <header class="main-header">
    <h1>SNSE</h1>
    <button id="profile-icon" class="profile-icon-btn" type="button" aria-label="Open profile">
      <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M12 12C14.7614 12 17 9.76142 17 7C17 4.23858 14.7614 2 12 2C9.23858 2 7 4.23858 7 7C7 9.76142 9.23858 12 12 12Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
        <path d="M20.59 22C20.59 18.13 16.74 15 12 15C7.26 15 3.41 18.13 3.41 22" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
      </svg>
    </button>
  </header>
  <div class="tabs">
    <button id="tab-inspiration" class="tab-button active">Inspiration</button>
    <button id="tab-pickups" class="tab-button">My Pickups</button>
  </div>
  <div id="inspiration-view" class="tab-content">
    <div id="outfit-result">
      <p>Waiting for product info...</p>
    </div>
    <button id="add-pickup" type="button">Add to Pickups</button>
    <button id="create-outfit-btn" type="button" class="btn-orange-gradient">Create Outfit</button>
  </div>
  <div id="pickups-view" class="tab-content hidden">
    <button id="exit-outfit-btn" class="exit-outfit-btn hidden" type="button" aria-label="Exit outfit creation">×</button>
    <div id="pickups-container">
      <ul id="pickups-list">
        <li>No pickups saved yet.</li>
      </ul>
    </div>
    <div class="pickups-footer">
      <button id="generate-outfit-btn" type="button" class="btn-orange-gradient" disabled>Generate Outfit</button>
    </div>
  </div>

  <!-- Result Overlay -->
  <div id="result-overlay" class="result-overlay hidden">
    <div class="result-overlay-content">
      <div id="loading-state" class="loading-state">Generating your fit...</div>
      <img id="generated-image" class="generated-image hidden" alt="Generated outfit result">
      <button id="result-close-btn" class="result-close-btn" type="button" aria-label="Close result">Close</button>
    </div>
  </div>

  <!-- Profile Overlay -->
  <div id="profile-overlay" class="profile-overlay hidden">
    <div class="profile-overlay-content">
      <button id="profile-close" class="profile-close-btn" type="button" aria-label="Close profile">×</button>
      <h2>User Profile</h2>
      <form id="profile-form">
        <div class="form-group">
          <label for="user-headshot">Headshot</label>
          <input type="file" id="user-headshot" accept="image/*">
          <img id="headshot-preview" class="headshot-preview hidden" alt="Headshot preview">
        </div>
        <div class="form-group">
          <label for="user-gender">Gender</label>
          <select id="user-gender">
            <option value="">Select gender</option>
            <option value="Male">Male</option>
            <option value="Female">Female</option>
            <option value="Non-Binary">Non-Binary</option>
          </select>
        </div>
        <div class="form-group">
          <label for="user-body-type">Body Type</label>
          <select id="user-body-type">
            <option value="">Select body type</option>
            <option value="Slim">Slim</option>
            <option value="Average">Average</option>
            <option value="Athletic">Athletic</option>
            <option value="Muscular">Muscular</option>
            <option value="Curvy">Curvy</option>
            <option value="Plus-Size">Plus-Size</option>
          </select>
        </div>
        <div class="form-group">
          <label for="user-height">Height</label>
          <input type="text" id="user-height" placeholder="e.g. 6'1">
        </div>
        <div class="form-group">
          <label for="user-ethnicity">Ethnicity</label>
          <input type="text" id="user-ethnicity" placeholder="e.g. Indian, Latino">
        </div>
        <div class="form-group">
          <label for="user-age">Age Range</label>
          <select id="user-age">
            <option value="">Select age range</option>
            <option value="18-24">18-24</option>
            <option value="25-34">25-34</option>
            <option value="35-44">35-44</option>
            <option value="45+">45+</option>
          </select>
        </div>
        <div class="form-group">
          <label for="user-fit">Fit Preference</label>
          <select id="user-fit">
            <option value="">Select fit preference</option>
            <option value="Slim">Slim</option>
            <option value="Regular">Regular</option>
            <option value="Oversized/Baggy">Oversized/Baggy</option>
          </select>
        </div>
        <div class="form-group">
          <label for="api-key">API Key</label>
          <input type="password" id="api-key" placeholder="Gemini/Cloud API Key">
        </div>
        <div class="form-actions">
          <button type="submit" id="save-profile" class="save-profile-btn">Save Profile</button>
        </div>
      </form>
    </div>
  </div>

  <!-- Result Overlay -->
  <div id="result-overlay" class="result-overlay hidden">
    <div class="result-overlay-content">
      <button id="result-close" class="result-close-btn" type="button" aria-label="Close result">×</button>
      <div id="loading-state" class="loading-state">Generating your fit...</div>
      <img id="generated-image" class="generated-image hidden" alt="Generated outfit result">
    </div>
  </div>

  <script type="module" src="sidepanel.js"></script>
</body>
</html>

